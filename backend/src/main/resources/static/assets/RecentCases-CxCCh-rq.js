import{_ as L,r as n,c as b,o as $,a as B,b as u,d as e,e as E,t as a,w as k,v as x,f as N,g as U,F as K,h as A,i as D,T as F,j as P,k as j,l as r,m as q,n as I,p as J}from"./index-8LIS3yzH.js";const z={class:"page card"},G={class:"card-hd"},H={class:"left"},O={class:"muted helper"},Q={class:"controls"},W={class:"card-bd"},X={class:"table"},Y={key:0},Z={class:"cell-wrap"},ee=["onClick"],te={class:"cell-wrap"},se=["onClick"],le={key:1},oe={colspan:"4",class:"empty"},ae={class:"modal-card",role:"dialog","aria-modal":"true"},ne={class:"modal-hd"},ce={class:"modal-actions"},de={class:"modal-body"},ie={__name:"RecentCases",setup(ue){const v=n("court"),p=n(""),f=n(10),h=n([]),_=n(!1),o=n({show:!1,text:"",type:"situation"}),d=n(!1);let i=null;const m=n(null),T=b(()=>v.value==="court"?"실제 판례":"최근 모델 분류"),R=b(()=>v.value==="court"?"실제 판례를 검색/열람합니다. 키워드와 표시 개수를 설정하세요.":"최근 모델이 예측한 결과를 조회합니다. 키워드와 표시 개수를 설정하세요."),S=b(()=>o.value.type==="reason"?"판결 이유 전체 보기":"상황 전체 보기");function M(l){const t=l.sentenceType??"";let s=l.sentenceValue??"";typeof s=="number"&&(s=s.toLocaleString()+"원");const c=l.sentenceSuspension?` / 집유 ${l.sentenceSuspension}`:"";return(`${t} ${s}`.trim()+c).trim()}async function y(){_.value=!0;try{const l=v.value==="court"?P:j,{items:t}=await l(f.value,p.value);h.value=t||[]}finally{_.value=!1}}async function g(l,t){t&&(o.value.type=l,o.value.text=t,o.value.show=!0,d.value=!1,await J(),m.value&&(m.value.scrollTop=0))}function w(){o.value.show=!1,o.value.text="",d.value=!1,i&&clearTimeout(i),i=null}async function V(){try{await navigator.clipboard.writeText(o.value.text),d.value=!0}catch{const t=m.value;if(t){const s=document.createRange();s.selectNodeContents(t);const c=window.getSelection();c.removeAllRanges(),c.addRange(s),document.execCommand("copy"),c.removeAllRanges(),d.value=!0}}i&&clearTimeout(i),i=setTimeout(()=>d.value=!1,1200)}function C(l){l.key==="Escape"&&o.value.show&&w()}return window.addEventListener("keydown",C),$(()=>window.removeEventListener("keydown",C)),B(y),(l,t)=>(r(),u("section",z,[e("header",G,[e("div",H,[e("h3",null,a(T.value),1),e("span",O,a(R.value),1)]),e("div",Q,[k(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),class:"select small"},[...t[3]||(t[3]=[e("option",{value:"court"},"실제 판례",-1),e("option",{value:"model"},"최근 모델 분류",-1)])],512),[[x,v.value]]),k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),class:"select small"},[...t[4]||(t[4]=[e("option",{value:5},"5",-1),e("option",{value:10},"10",-1),e("option",{value:20},"20",-1),e("option",{value:50},"50",-1)])],512),[[x,f.value,void 0,{number:!0}]]),k(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),class:"input",type:"text",placeholder:"검색어 입력",onKeyup:U(y,["enter"])},null,544),[[N,p.value]]),e("button",{class:"btn small",onClick:y},"검색")])]),e("div",W,[e("table",X,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",{style:{width:"10%"}},"판결"),e("th",{style:{width:"18%"}},"형량"),e("th",{style:{width:"42%"}},"상황"),e("th",{style:{width:"30%"}},"판결 이유")])],-1)),h.value.length?(r(),u("tbody",Y,[(r(!0),u(K,null,A(h.value,s=>(r(),u("tr",{key:s.id},[e("td",null,a(s.sentenceJudgment??"—"),1),e("td",null,a(M(s)||"—"),1),e("td",null,[e("div",Z,[e("div",{class:"clamp clickable",onClick:c=>g("situation",s.problemSituation)},a(s.problemSituation||"—"),9,ee),t[5]||(t[5]=e("div",{class:"hint muted"},"클릭하면 전체 보기 / 복사",-1))])]),e("td",null,[e("div",te,[e("div",{class:"clamp clickable",onClick:c=>g("reason",s.sentenceReason)},a(s.sentenceReason||"—"),9,se),t[6]||(t[6]=e("div",{class:"hint muted"},"클릭하면 전체 보기 / 복사",-1))])])]))),128))])):(r(),u("tbody",le,[e("tr",null,[e("td",oe,a(_.value?"로딩중...":"데이터가 없습니다."),1)])]))])]),E(F,{name:"fade"},{default:D(()=>[o.value.show?(r(),u("div",{key:0,class:"modal-backdrop",onClick:I(w,["self"])},[e("div",ae,[e("header",ne,[e("h4",null,a(S.value),1),e("div",ce,[e("button",{class:"btn ghost small modal-btn",onClick:V},a(d.value?"복사됨!":"복사"),1),e("button",{class:"btn small modal-btn",onClick:w}," 닫기 ")])]),e("div",de,[e("pre",{class:"modal-pre",ref_key:"modalPre",ref:m},a(o.value.text),513)])])])):q("",!0)]),_:1})]))}},me=L(ie,[["__scopeId","data-v-a3f59f25"]]);export{me as default};
